{"version":3,"file":"vue.js","sources":["../../src/observer/utils.js","../../src/observer/Dep.js","../../src/observer/defineReactive.js","../../src/observer/array.js","../../src/observer/Observer.js","../../src/observer/observe.js","../../src/utils.js","../../src/observer/Watcher.js","../../src/state.js","../../src/compiler/astParser.js","../../src/compiler/generate.js","../../src/compiler/index.js","../../src/vdom/patch.js","../../src/lifecycle.js","../../src/init.js","../../src/vdom/vnode.js","../../src/vdom/index.js","../../src/index.js"],"sourcesContent":["export const def = function (obj, key, value, enumerable) {\r\n    Object.defineProperty(obj, key, {\r\n        value,\r\n        enumerable,\r\n        writable: true,\r\n        configurable: true\r\n    });\r\n};","var uid = 0;\r\n// Dep 依赖收集器\r\nexport default class Dep {\r\n    constructor() {\r\n        // console.log('我是DEP类的构造器');\r\n        this.id = uid++;\r\n\r\n        // 用数组存储自己的订阅者。subs是英语subscribes订阅者的意思。\r\n        // 这个数组里面放的是Watcher的实例\r\n        this.subs = [];\r\n    }\r\n    // 添加订阅\r\n    addSub(sub) {\r\n        this.subs.push(sub);\r\n    }\r\n    // 添加依赖\r\n    depend() {\r\n        // Dep.target就是一个我们自己指定的全局的位置，你用window.target也行，只要是全剧唯一，没有歧义就行\r\n        // console.log(Dep.target, '---');\r\n        if (Dep.target) {\r\n            this.addSub(Dep.target);\r\n        }\r\n    }\r\n    // 通知更新\r\n    notify() {\r\n        console.log('我是notify');\r\n        // 浅克隆一份\r\n        const subs = this.subs.slice();\r\n        // 遍历\r\n        for (let i = 0, l = subs.length; i < l; i++) {\r\n            subs[i].update();\r\n        }\r\n    }\r\n};","import observe from './observe.js';\r\nimport Dep from './Dep.js';\r\n\r\nexport default function defineReactive(data, key, val) {\r\n    const dep = new Dep();\r\n    // console.log(dep, 'dep');\r\n    // console.log('我是defineReactive', key);\r\n    if (arguments.length == 2) {\r\n        val = data[key];\r\n    }\r\n\r\n    // 子元素要进行observe，至此形成了递归。这个递归不是函数自己调用自己，而是多个函数、类循环调用\r\n    let childOb = observe(val);\r\n\r\n    Object.defineProperty(data, key, {\r\n        // 可枚举\r\n        enumerable: true,\r\n        // 可以被配置，比如可以被delete\r\n        configurable: true,\r\n        // getter\r\n        get() {\r\n            console.log('你试图访问' + key + '属性');\r\n            // 如果现在处于依赖收集阶段\r\n            if (Dep.target) {\r\n                dep.depend();\r\n                if (childOb) {\r\n                    childOb.dep.depend();\r\n                }\r\n            }\r\n            return val;\r\n        },\r\n        // setter\r\n        set(newValue) {\r\n            console.log('你试图改变' + key + '属性', newValue);\r\n            if (val === newValue) {\r\n                return;\r\n            }\r\n            val = newValue;\r\n            // 当设置了新值，这个新值也要被observe\r\n            childOb = observe(newValue);\r\n            // 发布订阅模式，通知dep\r\n            dep.notify();\r\n        }\r\n    });\r\n};","import { def } from './utils.js';\r\n\r\n// 得到Array.prototype\r\nconst arrayPrototype = Array.prototype;\r\n\r\n// 以Array.prototype为原型创建arrayMethods对象，并暴露\r\nexport const arrayMethods = Object.create(arrayPrototype);\r\n\r\n// 要被改写的7个数组方法\r\nconst methodsNeedChange = [\r\n    'push',\r\n    'pop',\r\n    'shift',\r\n    'unshift',\r\n    'splice',\r\n    'sort',\r\n    'reverse'\r\n];\r\n\r\nmethodsNeedChange.forEach(methodName => {\r\n    // 备份原来的方法，因为push、pop等7个函数的功能不能被剥夺\r\n    const original = arrayPrototype[methodName];\r\n    // 定义新的方法\r\n    def(arrayMethods, methodName, function () {\r\n        // 恢复原来的功能\r\n        const result = original.apply(this, arguments);\r\n        // 把类数组对象变为数组\r\n        const args = [...arguments];\r\n        // 把这个数组身上的__ob__取出来，__ob__已经被添加了，为什么已经被添加了？因为数组肯定不是最高层，比如obj.g属性是数组，obj不能是数组，第一次遍历obj这个对象的第一层的时候，已经给g属性（就是这个数组）添加了__ob__属性。\r\n        const ob = this.__ob__;\r\n\r\n        // 有三种方法push\\unshift\\splice能够插入新项，现在要把插入的新项也要变为observe的\r\n        let inserted = [];\r\n\r\n        switch (methodName) {\r\n            case 'push':\r\n            case 'unshift':\r\n                inserted = args;\r\n                break;\r\n            case 'splice':\r\n                // splice格式是splice(下标, 数量, 插入的新项)\r\n                inserted = args.slice(2);\r\n                break;\r\n        }\r\n\r\n        // 判断有没有要插入的新项，让新项也变为响应的\r\n        if (inserted) {\r\n            ob.observeArray(inserted);\r\n        }\r\n\r\n        console.log('啦啦啦');\r\n\r\n        ob.dep.notify();\r\n\r\n        return result;\r\n    }, false);\r\n});","import { def } from './utils.js';\r\nimport defineReactive from './defineReactive.js';\r\nimport { arrayMethods } from './array.js';\r\nimport observe from './observe.js';\r\nimport Dep from './Dep.js';\r\n\r\nexport default class Observer {\r\n    constructor(value) {\r\n        // 每一个Observer的实例身上，都有一个dep\r\n        this.dep = new Dep();\r\n        // 给实例（this，一定要注意，构造函数中的this不是表示类本身，而是表示实例）添加了__ob__属性，值是这次new的实例\r\n        def(value, '__ob__', this, false);\r\n        // console.log('我是Observer构造器', value);\r\n        // 不要忘记初心，Observer类的目的是：将一个正常的object转换为每个层级的属性都是响应式（可以被侦测的）的object\r\n        // 检查它是数组还是对象\r\n        if (Array.isArray(value)) {\r\n            // 如果是数组，要非常强行的蛮干：将这个数组的原型，指向arrayMethods\r\n            Object.setPrototypeOf(value, arrayMethods);\r\n            // 让这个数组变的observe\r\n            this.observeArray(value);\r\n        } else {\r\n            this.walk(value);\r\n        }\r\n    }\r\n    // 遍历\r\n    walk(value) {\r\n        for (let k in value) {\r\n            defineReactive(value, k);\r\n        }\r\n    }\r\n    // 数组的特殊遍历\r\n    observeArray(arr) {\r\n        for (let i = 0, l = arr.length; i < l; i++) {\r\n            // 逐项进行observe\r\n            observe(arr[i]);\r\n        }\r\n    }\r\n};","import Observer from './Observer.js';\r\nexport default function (value) {\r\n    // 如果value不是对象，什么都不做\r\n    if (typeof value != 'object') return;\r\n    // 定义ob\r\n    var ob;\r\n    if (typeof value.__ob__ !== 'undefined') {\r\n        ob = value.__ob__;\r\n    } else {\r\n        ob = new Observer(value);\r\n    }\r\n    return ob;\r\n}\r\n","function proxy(vm, target, key) {\n  Object.defineProperty(vm, key, {\n    get() {\n      return vm[target][key];\n    },\n    set(newValue) {\n      if (vm[target][key] === newValue) return;\n      vm[target][key] = newValue;\n    }\n  })\n}\n\nfunction isObject (value) {\n  return typeof value === 'object' && value !== null;\n}\n\nfunction isArray (value) {\n  return Array.isArray(value);\n}\n\nfunction setConstantProperty (data, key, value) {\n  Object.defineProperty(data, key, {\n    enumerable: false,\n    configurable: false,\n    value\n  });\n}\n\nexport {\n  proxy,\n  isObject,\n  isArray,\n  setConstantProperty\n}","import Dep from \"./Dep\";\r\n\r\nvar uid = 0;\r\nexport default class Watcher {\r\n    constructor(target, expression, callback) {\r\n        // expression是表达式 a.m.n  即要watch数据 的位置\r\n        // callback是实例化watcher的回调函数\r\n        console.log(target,'target',expression, 'expression',callback);\r\n        // console.log('我是Watcher类的构造器');\r\n        this.id = uid++;\r\n        this.target = target; // target是 data 此处是obj\r\n        this.getter = parsePath(expression);\r\n        this.callback = callback;\r\n        this.value = this.get();\r\n    }\r\n    update() {\r\n        this.run();\r\n    }\r\n    get() {\r\n        // 进入依赖收集阶段。让全局的Dep.target设置为Watcher本身，那么就是进入依赖收集阶段\r\n        Dep.target = this; // 把watcher对象记录到Dep类的静态属性target\r\n        const obj = this.target;\r\n        var value;\r\n\r\n        // 只要能找，就一直找\r\n        try {\r\n            value = this.getter(obj);\r\n        } finally {\r\n            Dep.target = null;\r\n        }\r\n        console.log(value,'value');\r\n        return value;\r\n    }\r\n    run() {\r\n        this.getAndInvoke(this.callback);\r\n    }\r\n    getAndInvoke(cb) {\r\n        console.log(cb,'cb');\r\n        const value = this.get();\r\n\r\n        if (value !== this.value || typeof value == 'object') {\r\n            const oldValue = this.value;\r\n            this.value = value;\r\n            cb.call(this.target, value, oldValue);\r\n        }\r\n    }\r\n};\r\n// 找到对象.最后的位置\r\nfunction parsePath(str) {\r\n    var segments = str.split('.');\r\n\r\n    return (obj) => {\r\n        for (let i = 0; i < segments.length; i++) {\r\n            if (!obj) return;\r\n            obj = obj[segments[i]]\r\n        }\r\n        return obj;\r\n    };\r\n}","import  observe  from \"./observer/observe\";\nimport { proxy } from './utils';\nimport Watcher from './observer/Watcher.js'\nfunction initState (vm) {\n  const options = vm.$options;\n\n  if (options.props) {\n    initProps(vm);\n  }\n\n  if (options.methods) {\n    initMethods(vm);\n  }\n\n  if (options.data) {\n    initData(vm);\n  }\n\n  if (options.computed) {\n    initComputed(vm);\n  }\n\n  if (options.watch) {\n    initWatch(vm);\n  }\n}\n\nfunction initProps (vm) {}\n\nfunction initMethods (vm) {}\n\nfunction initData (vm) {\n  let data = vm.$options.data;\n\n  vm._data = data = typeof data === 'function' ? data.call(vm) : data;\n  \n  for (let key in data) {\n    proxy(vm, '_data', key);\n  }\n  \n  observe(data);\n}\n\nfunction initWatch (vm) {\n  let watch = vm.$options.watch\n  Object.keys(watch).forEach(key => {\n    new Watcher(vm,key,watch[key])\n  })\n}\n\nfunction initComputed (vm) {}\n\nexport {\n  initState\n}","// id=\"app\" id='app' id=app\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/;\n//标签名  <my-header></my-header>\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;\n// <my:header></my:header>\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`;\n// <div\nconst startTagOpen = new RegExp(`^<${qnameCapture}`);\n// > />\nconst startTagClose = /^\\s*(\\/?)>/;\n// </div>\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`);\n\n/*\n<div id=\"app\" style=\"color: red;font-size: 20px;\">\n    你好，{{ name }}\n    <span class=\"text\" style=\"color: green\">{{age}}</span>\n  </div>\n*/\n\nfunction parseHtmlToAst (html) {\n\n  let text,\n      root,\n      currentParent,\n      stack = [];\n\n  while (html) {\n    let textEnd = html.indexOf('<');\n\n    if (textEnd === 0) {\n      const startTagMatch = parseStartTag();\n      \n      if (startTagMatch) {\n        start(startTagMatch.tagName, startTagMatch.attrs);\n        continue;\n      }\n\n      const endTagMatch = html.match(endTag);\n\n      if (endTagMatch) {\n        advance(endTagMatch[0].length);\n        end(endTagMatch[1]);\n        continue;\n      }\n    }\n\n    if (textEnd > 0) {\n      text = html.substring(0, textEnd);\n    }\n\n    if (text) {\n      advance(text.length);\n      chars(text);\n    }\n  }\n\n\n  function parseStartTag () {\n    const start = html.match(startTagOpen);\n\n    let end,\n        attr;\n    \n    if (start) {\n      const match = {\n        tagName: start[1],\n        attrs: []\n      }\n      advance(start[0].length);\n\n      while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\n        match.attrs.push({\n          name: attr[1],\n          value: attr[3] || attr[4] || attr[5]\n        });\n        advance(attr[0].length);\n      }\n\n      if (end) {\n        advance(end[0].length);\n        return match;\n      }\n    }\n  }\n\n  function advance (n) {\n    html = html.substring(n);\n  }\n  \n  // currentParent div\n  //stack [div]\n  function start(tagName, attrs) {\n    const element = createASTElement(tagName, attrs);\n    \n    if (!root) {\n      root = element;\n    }\n\n    currentParent = element;\n    stack.push(element);\n  }\n\n  function end(tagName) {\n          // span\n    const element = stack.pop();\n    // div\n    currentParent = stack[stack.length - 1];\n    if (currentParent) {\n      // span => parent => div\n      element.parent = currentParent;\n      // div => children => push => span\n      currentParent.children.push(element);\n    }\n  }\n\n  function chars(text) {\n    text = text.trim();\n\n    if (text.length > 0) {\n      currentParent.children.push({\n        type: 3,\n        text\n      })\n    }\n  }\n\n  function createASTElement(tagName, attrs) {\n    return {\n      tag: tagName,\n      type: 1,\n      children: [],\n      attrs,\n      parent\n    }\n  }\n  return root;\n}\n\n\n\nexport {\n  parseHtmlToAst\n}","/*\n<div id=\"app\" style=\"color: red;font-size: 20px;\">\n  你好，{{ name }}\n  <span class=\"text\" style=\"color: green\">{{age}}</span>\n</div>\n\n_c() => createElement()\n_v() => createTextNode()\n_s() => {{name}} => _s(name)\n*/\n\n// function render() {\n//   return `\n//     _c(\n//       \"div\", \n//       {\n//         id: \"app\", \n//         style: { \n//           \"color\": \"red\", \n//           \"font-size\": \"20px\" \n//         }\n//       },\n//       _v(\"你好，\"+_s(name)),\n//       _c(\n//         \"span\",\n//         {\n//           \"class\": \"text\",\n//           \"style\": {\n//             \"color\": \"green\"\n//           }\n//         },\n//         _v(_s(age))\n//       )  \n//     )\n//   `;\n// }\n\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\n\nfunction formatProps (attrs) {\n  let attrStr = '';\n\n  for (var i = 0; i < attrs.length; i ++) {\n    let attr = attrs[i];\n\n    if (attr.name === 'style') {\n      let styleAttrs = {};\n\n      attr.value.split(';').map((styleAttr) => {\n        let [key, value] = styleAttr.split(':');\n        styleAttrs[key] = value;\n      });\n      attr.value = styleAttrs;\n    }\n\n    attrStr += `${attr.name}:${JSON.stringify(attr.value)},`\n  }\n\n  return `{${attrStr.slice(0, -1)}}`;\n}\n\nfunction generateChild (node) {\n  if (node.type === 1) {\n    return generate(node);\n  } else if (node.type === 3) {\n    let text = node.text;\n\n    if (!defaultTagRE.test(text)) {\n      return `_v(${JSON.stringify(text)})`;\n    }\n\n    let match,\n        index,\n        lastIndex = defaultTagRE.lastIndex = 0,\n        textArr = [];\n\n    while (match = defaultTagRE.exec(text)) {\n      index = match.index;\n      if (index > lastIndex) {\n        textArr.push(JSON.stringify(text.slice(lastIndex, index)));\n      }\n      textArr.push(`_s(${match[1].trim()})`);\n      lastIndex = index + match[0].length;\n    }\n\n    if (lastIndex < text.length) {\n      textArr.push(JSON.stringify(text.slice(lastIndex)));\n    }\n\n    return `_v(${textArr.join('+')})`;\n  }\n}\n\nfunction geChildren (el) {\n  const children = el.children;\n\n  if (children) {\n    return children.map(c => generateChild(c)).join(',');\n  }\n}\n\nfunction generate (el) {\n  let children = geChildren(el);\n\n  let code = `_c('${ el.tag }', ${\n      el.attrs.length > 0 \n      ?\n      `${ formatProps(el.attrs) }`\n      :\n      'undefined'\n    }${\n      children ? `,${children}` : ''\n    })`;\n\n  return code;\n}\n\nexport {\n  generate\n}","import { parseHtmlToAst } from './astParser';\nimport { generate } from './generate';\n\nfunction compileToRenderFunction (html) {\n  const ast = parseHtmlToAst(html),\n        code = generate(ast),\n        render = new Function(`\n          with(this){ return ${code} }\n        `);\n  return render;\n}\n\nexport {\n  compileToRenderFunction\n}","function patch (oldNode, vNode) {\n  let el = createElement(vNode),\n      parentElement = oldNode.parentNode;\n  \n  parentElement.insertBefore(el, oldNode.nextSibling);\n  parentElement.removeChild(oldNode);\n}\n\nfunction createElement (vnode) {\n  const { tag, props, children, text } = vnode;\n\n  if (typeof tag === 'string') {\n    vnode.el = document.createElement(tag);\n    updateProps(vnode);\n    children.map((child) => {\n      vnode.el.appendChild(createElement(child));\n    })\n  } else {\n    vnode.el = document.createTextNode(text);\n  }\n\n  return vnode.el;\n}\n\nfunction updateProps (vnode) {\n  const el = vnode.el,\n        newProps = vnode.props || {};\n  \n  for (let key in newProps) {\n    if (key === 'style') {\n      for (let sKey in newProps.style) {\n        el.style[sKey] = newProps.style[sKey];\n      }\n    } else if (key === 'class') {\n      el.className = el.class;\n    } else {\n      el.setAttribute(key, newProps[key]);\n    }\n  }\n}\n\nexport {\n  patch\n}","import { patch } from './vdom/patch';\n\nfunction mountComponent (vm) {\n              // vnode\n  vm._update(vm._render());\n}\n\nfunction lifecycleMixin (Vue) {\n  Vue.prototype._update = function (vnode) {\n    const vm = this;\n    patch(vm.$el, vnode);\n  }\n}\n\nexport {\n  lifecycleMixin,\n  mountComponent\n}","import { initState } from \"./state\";\nimport { compileToRenderFunction } from './compiler';\nimport { mountComponent } from './lifecycle';\n\nfunction initMixin (Vue) {\n  Vue.prototype._init = function (options) {\n    const vm = this;\n\n    vm.$options = options;\n\n    initState(vm);\n\n    if (vm.$options.el) {\n      // 挂载函数   Vue.prototype.$mount\n      vm.$mount(vm.$options.el);\n    }\n  }\n\n  Vue.prototype.$mount = function (el) {\n    const vm = this,\n          options = vm.$options;\n    \n    el = document.querySelector(el),\n    vm.$el = el;\n\n    if (!options.render) {\n      let template = options.template;\n\n      if (!template && el) {\n        template = el.outerHTML;\n      }\n\n      const render = compileToRenderFunction(template);\n      options.render = render;\n    }\n\n    mountComponent(vm);\n  } \n}\n\nexport {\n  initMixin\n}","function createElement (tag, attrs = {}, ...children) {\n  return vnode(tag, attrs, children);\n}\n\nfunction createTextVnode (text) {\n  return vnode(undefined, undefined, undefined, text);\n}\n\nfunction vnode (tag, props, children, text) {\n  return {\n    tag,\n    props,\n    children,\n    text\n  }\n}\n\nexport {\n  createElement,\n  createTextVnode\n}","import { createElement, createTextVnode } from './vnode';\n\nfunction renderMixin (Vue) {\n  Vue.prototype._c = function () {\n    return createElement(...arguments);\n  }\n\n  Vue.prototype._s = function (value) {\n    if (value === null) return;\n    return typeof value === 'object' ? JSON.stringify(value) : value;\n  }\n\n  Vue.prototype._v = function (text) {\n    return createTextVnode(text);\n  }\n\n  Vue.prototype._render = function () {\n    const vm = this,\n          render = vm.$options.render,\n          vnode = render.call(vm);\n    \n    return vnode;\n  }\n}\n\nexport {\n  renderMixin\n}","import { initMixin } from './init';\nimport { lifecycleMixin } from './lifecycle';\nimport { renderMixin } from './vdom';\n\nfunction Vue (options) {\n  this._init(options);\n}\n\ninitMixin(Vue);\nlifecycleMixin(Vue); // 生命周期\nrenderMixin(Vue); // 渲染函数\n\nexport default Vue;\n\n"],"names":["def","obj","key","value","enumerable","Object","defineProperty","writable","configurable","uid","Dep","constructor","id","subs","addSub","sub","push","depend","target","notify","console","log","slice","i","l","length","update","defineReactive","data","val","dep","arguments","childOb","observe","get","set","newValue","arrayPrototype","Array","prototype","arrayMethods","create","methodsNeedChange","forEach","methodName","original","result","apply","args","ob","__ob__","inserted","observeArray","Observer","isArray","setPrototypeOf","walk","k","arr","proxy","vm","Watcher","expression","callback","getter","parsePath","run","getAndInvoke","cb","oldValue","call","str","segments","split","initState","options","$options","props","methods","initData","computed","watch","initWatch","_data","keys","attribute","ncname","qnameCapture","startTagOpen","RegExp","startTagClose","endTag","parseHtmlToAst","html","text","root","currentParent","stack","textEnd","indexOf","startTagMatch","parseStartTag","start","tagName","attrs","endTagMatch","match","advance","end","substring","chars","attr","name","n","element","createASTElement","pop","parent","children","trim","type","tag","defaultTagRE","formatProps","attrStr","styleAttrs","map","styleAttr","JSON","stringify","generateChild","node","generate","test","index","lastIndex","textArr","exec","join","geChildren","el","c","code","compileToRenderFunction","ast","render","Function","patch","oldNode","vNode","createElement","parentElement","parentNode","insertBefore","nextSibling","removeChild","vnode","document","updateProps","child","appendChild","createTextNode","newProps","sKey","style","className","class","setAttribute","mountComponent","_update","_render","lifecycleMixin","Vue","$el","initMixin","_init","$mount","querySelector","template","outerHTML","createTextVnode","undefined","renderMixin","_c","_s","_v"],"mappings":"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"}